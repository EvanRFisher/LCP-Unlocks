{"version":3,"sources":["icons/key.svg","logo.svg","icons/crafting.svg","App.js","reportWebVitals.js","index.js"],"names":["JSZip","require","SelectModeButton","React","Component","className","onClick","this","props","src","iconInfo","icon","alt","iconClass","fill","label","ActivePage","children","return","UnlockScreen","onChangeFile","e","console","log","target","files","setState","selectedFile","fileLoaded","loadAsync","then","fileLoadCallback","loadFiles","zip","a","sorted","promises","forEach","path","entry","promised","parseEntry","append","Promise","all","item","raw","name","sorteddata","dir","type","value","async","JSON","parse","f","filedata","state","active_keys","onChange","App","mode","filling","keyIcon","mergeIcon","href","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.12e3bda2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/key.2f16108f.svg\";","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default __webpack_public_path__ + \"static/media/crafting.ee80224b.svg\";","import logo from './logo.svg';\nimport keyIcon from './icons/key.svg';\nimport mergeIcon from './icons/crafting.svg';\nimport React  from 'react';\nimport './App.css';\nvar JSZip = require(\"jszip\");\n\n/*\n2 Modes:\n1.\n*/\n\nclass Top extends React.Component {\n  render(){\n    return (\n      <div className=\"header-back\">\n      <p className=\"header-text\">LCP Unlocks</p>\n      </div>\n    );\n  }\n}\n\nclass SelectModeButton extends React.Component {\n  render(){\n    return (<div className=\"selectable-inset\" onClick={this.props.onClick}>\n      <img src={this.props.iconInfo.icon} alt={this.props.iconInfo.alt} className={this.props.iconInfo.iconClass} fill=\"#FF00FF\"/>\n      <p className=\"select-button-label\">{this.props.label}</p>\n    </div>);\n  }\n}\n\nclass ActivePage extends React.Component {\n  render(){\n    return (<div>\n      {this.props.children}\n      <div className=\"floating-return-btn\" onClick={this.props.return}><p className=\"return-btn-text\">Return</p></div>\n      </div>\n    );\n  }\n}\n\nclass UnlockScreen extends React.Component {\n  /*Steps:\n  When the file in input:\n  1. Open up the LCP Manifest and display all the active codes.\n  2. Open the file containing the unlockables (if present) and load from JSON.\n  2. Unlock the password box.\n  When the code is input:\n  1. If code is already present in the manifest, do nothing except notify the user. Otherwise, continue.\n  2. Look up the code in the unlockables object.\n  3. For each entry in ^ array:\n    -> Load the given file.\n    -> For each entry in the password list:\n      -> If the id is already present in the file, replace it.\n      -> Otherwise, add it to the end of the file (but don't bother checking it in future checks.\n  4. Save the modified files to the zip.\n  5. Offer the zip to the player\n\n  Option: keep the files loaded & allow the player to keep entering codes until they hit an 'export' button.\n  */\n  /*TODO: Swap fine from\n\n  [{key:},\n   {key:},\n    ...]\n\n  to\n\n  {\"key1\":[{\"file\":\"\",entries:[{thing1},{thing2}...]},\n          {\"file\":\"\",entries:[{thing1},{thing2}...]},\n          ...]\n   \"key2\":[...]\n  }*/\n  constructor(props){\n    super(props);\n    this.state={selectedFile:null,\n                fileLoaded:false,\n                filedata:null,\n                sorteddata:null,\n                active_keys:[]};\n  }\n\n  onChangeFile = e =>{\n      console.log(e.target.files);\n      this.setState({selectedFile:e.target.files[0],fileLoaded:false});\n      JSZip.loadAsync(e.target.files[0]).then(this.fileLoadCallback);\n  };\n\n  loadFiles = async (zip) =>{\n    var sorted = {};\n    var promises = zip.forEach((path, entry) => {\n      var promised = this.parseEntry(entry);\n      console.log(promised);\n      promises.append(promised);\n    });\n    const results = await Promise.all(promises);\n    results.forEach(item => {sorted[item.raw.name]=item});\n    console.log(sorted);\n    this.setState({sorteddata:sorted, fileLoaded:true});\n  };\n\n  parseEntry = async (entry) => {\n    if (entry.dir){return {raw:entry,type:\"dir\",value:null}}\n    else {\n      try {\n        return {raw:entry,type:\"json\",value:await entry.async(\"text\").then(JSON.parse)}\n      } catch (SyntaxError) {\n        return {raw:entry,type:\"unknown\",value:null};}\n    }\n  };\n\n  fileLoadCallback = f => {\n    this.setState({filedata:f});\n    this.loadFiles(f);\n  };\n\n  render(){\n    return (<div>\n      <form>\n      <input type=\"file\" onChange={this.onChangeFile} />\n      </form>\n      </div>);\n  }\n}\n\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state={mode:\"selecting\"};\n  }\n\n\n  render(){\n    var filling = null;\n    switch (this.state.mode) {\n      case \"unlocking\":\n        filling = (<ActivePage return={() => this.setState({mode:\"selecting\"})}>\n            <UnlockScreen />\n          </ActivePage>);\n        break;\n      case \"augmenting\":\n        filling = (<ActivePage return={() => this.setState({mode:\"selecting\"})}>\n\n          </ActivePage>);\n      break;\n      case \"selecting\":/*One button per state.*/\n      default:\n        filling = (<div className=\"ModeButtons\">\n            <SelectModeButton iconInfo={{icon:keyIcon,   alt:\"\", iconClass:\"key-logo\"}} label=\"Unlock Content\" onClick={() => this.setState({mode:\"unlocking\"})}/>\n            <SelectModeButton iconInfo={{icon:mergeIcon, alt:\"\", iconClass:\"craft-logo\"}} label=\"Patch LCP\" onClick={() => this.setState({mode:\"augmenting\"})}/>\n          </div>);\n    };\n\n    return (<div className=\"App\">\n      <div className=\"filling\">{filling}</div>\n      <footer><p className=\"attr-text\">The \"Key\" and \"Crafting\" icons by sbed and Delapouite respectively are licensed under CC BY 3.0 and were sourced from <a href=\"game-icons.net\">game-icons.net</a></p></footer>\n    </div>\n    );\n\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Edit <code>src/App.js</code> and save to reload.\n          </p>\n          <a\n            className=\"App-link\"\n            href=\"https://reactjs.org\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Learn React\n          </a>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}